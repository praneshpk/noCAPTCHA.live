{"version":3,"sources":["webpack:///./src/components/arrow-button/index.module.scss","webpack:///./src/components/carousel/index.module.scss","webpack:///./src/components/logo/index.js","webpack:///./src/components/carousel/index.js","webpack:///./src/pages/index.js","webpack:///./src/components/arrow-button/index.js","webpack:///./src/components/logo/index.module.scss"],"names":["module","exports","Logo","_ref","className","variant","onClick","href","children","React","createElement","styles","root","evt","preventDefault","role","tabIndex","alt","Carousel","start","muted","egg","audioCtx","window","AudioContext","webkitAudioContext","createAudioBuffer","url","setBuffer","request","XMLHttpRequest","open","responseType","addEventListener","async","event","target","createBufferSource","decodeAudioData","response","res","console","log","send","play","useCallback","buffer","source","connect","destination","noteOn","pos","setPos","useState","combo","setCombo","touch","setTouch","x","y","openHi","setOpenHi","hi1","setHi1","hi2","setHi2","cowbell","setCowbell","useEffect","carousel","useMemo","Children","map","el","i","current","Math","abs","length","props","active","inactive","cloneElement","key","handleKeyDown","_ref2","newPos","concat","_toConsumableArray","slice","max","handleGesture","swiped","touchStart","changedTouches","prev","screenX","screenY","touchEnd","removeEventListener","renderContent","JSON","stringify","greenText","eggBin","mobileNav","ArrowButton","fullWidth","IndexPage","useRef","darkMode","setDarkMode","audio","setAudio","sw","values","test","navigator","userAgent","Layout","ref","SEO","title","color","fixed"],"mappings":"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","file":"component---src-pages-index-js-8df05f45ce0b823216a5.js","sourcesContent":["// extracted by mini-css-extract-plugin\nmodule.exports = {\"root\":\"index-module--root--2kLyg\",\"back\":\"index-module--back--Z4mqE\",\"forward\":\"index-module--forward--SdJ5L\",\"filled\":\"index-module--filled--1nq0z\",\"fullWidth\":\"index-module--fullWidth--1Kmwn\",\"filledBlock\":\"index-module--filledBlock--2eHb-\",\"fixed\":\"index-module--fixed--2tUga\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"root\":\"index-module--root--2cSPz\",\"colorCycle\":\"index-module--color-cycle--1454x\",\"active\":\"index-module--active--24Hxq\",\"pulse\":\"index-module--pulse--2YNzn\",\"inactive\":\"index-module--inactive--kgqUN\",\"pos0\":\"index-module--pos0--1PDN-\",\"pos1\":\"index-module--pos1--2__iE\",\"pos2\":\"index-module--pos2--w1wfx\",\"pos3\":\"index-module--pos3--AHfCj\",\"pos4\":\"index-module--pos4--2fuZy\",\"pos5\":\"index-module--pos5--2VBxB\",\"mobileNav\":\"index-module--mobileNav--vw5w0\",\"greenText\":\"index-module--greenText--Faw5x\"};","import React from 'react';\nimport styles from './index.module.scss';\n\nexport default function Logo({\n    className = '',\n    variant,\n    onClick = () => {},\n    href = '#',\n    children = 'noCAPTCHA.live/'\n}) {\n    const handleClick = evt => {\n        onClick(evt);\n        if (!href || href === '#') {\n            evt.preventDefault();\n        }\n    };\n    return (\n        <figure\n            className={`${styles.root} ${className}`}\n            onClick={handleClick}\n            role=\"button\"\n            tabIndex={0}\n        >\n            <a className={styles[variant]} href={href}>\n                <div alt=\"noCAPTCHA\">{children}</div>\n            </a>\n        </figure>\n    );\n}\n","import React, {\n    useCallback,\n    useEffect,\n    useMemo,\n    useRef,\n    useState\n} from 'react';\nimport styles from './index.module.scss';\nimport { eggBin } from '../../../static/egg.json';\nimport ArrowButton from '../arrow-button';\n\nexport default function Carousel({\n    start = 0,\n    muted = false,\n    children,\n    egg = []\n}) {\n    const audioCtx = typeof window !== 'undefined' ? new (window.AudioContext || window.webkitAudioContext)() : null;\n\n    const createAudioBuffer = (url, setBuffer) => {\n        const request = new XMLHttpRequest();\n        request.open('GET', url, true);\n        request.responseType = 'arraybuffer';\n        request.addEventListener(\n            'load',\n            async event => {\n                const request = event.target;\n                const source = audioCtx.createBufferSource();\n                audioCtx.decodeAudioData(request.response, res => {\n                    console.log(res);\n                    setBuffer(res);\n                });\n            },\n            false\n        );\n        request.send();\n    };\n\n    const play = useCallback(\n        buffer => {\n            if (buffer && !muted) {\n                const source = audioCtx.createBufferSource();\n                source.buffer = buffer;\n                source.connect(audioCtx.destination);\n                source.start ? source.start(0) : source.noteOn(0);\n            }\n        },\n        [muted, audioCtx]\n    );\n\n    const [pos, setPos] = useState(start);\n    const [combo, setCombo] = useState([]);\n    const [touch, setTouch] = useState({ x: [0, 0], y: [0, 0] });\n\n    const [openHi, setOpenHi] = useState();\n    const [hi1, setHi1] = useState();\n    const [hi2, setHi2] = useState();\n    const [cowbell, setCowbell] = useState();\n\n    useEffect(() => {\n        createAudioBuffer('/assets/sounds/open_hi.ogg', setOpenHi);\n        createAudioBuffer('/assets/sounds/hi1.mp3', setHi1);\n        createAudioBuffer('/assets/sounds/hi2.mp3', setHi2);\n        createAudioBuffer('/assets/sounds/cowbell.ogg', setCowbell);\n    }, []);\n\n    // Renders the carousel grid from children\n    const carousel = useMemo(() => {\n        return React.Children.map(children, (el, i) => {\n            const current =\n                Math.abs(i + pos + children.length) % children.length;\n            let className = styles[`pos${current}`];\n            let href = el.props.href;\n            let onClick = el.props.onClick;\n            if (Math.abs(i + pos + children.length) % children.length === 1) {\n                className += ` ${styles.active}`;\n                onClick = event => {\n                    play(openHi);\n                    if (el.props.onClick) {\n                        el.props.onClick();\n                    }\n                };\n            } else {\n                className += ` ${styles.inactive}`;\n                href = '#';\n                onClick = event => {\n                    if (current === 0) {\n                        setPos((pos + 1) % children.length);\n                    } else {\n                        setPos((pos - 1) % children.length);\n                    }\n                    play(hi1);\n                };\n            }\n            return React.cloneElement(el, {\n                key: el.key,\n                className,\n                onClick,\n                href\n            });\n        });\n    }, [children, pos, setPos, play, openHi, hi1]);\n\n    // Keyboard handler\n    const handleKeyDown = useCallback(\n        ({ key }) => {\n            let newPos = pos;\n            switch (key) {\n                case 'ArrowLeft':\n                    play(hi1);\n                    newPos = (pos - 1) % children.length;\n                    setPos(newPos);\n                    break;\n                case 'ArrowRight':\n                    play(hi2);\n                    newPos = (pos + 1) % children.length;\n                    setPos(newPos);\n                    break;\n                default:\n                    break;\n            }\n            if (egg?.length) {\n                setCombo(\n                    [...combo, key].slice(\n                        Math.max(combo.length - egg.length + 1, 0)\n                    )\n                );\n            }\n        },\n        [pos, setPos, children, combo, setCombo, egg, play]\n    );\n\n    // Touch gesture handling on mobile\n    const handleGesture = useCallback(() => {\n        var swiped = 'swiped: ';\n        if (touch.x[1] < touch.x[0]) {\n            console.log(swiped + 'left!');\n            handleKeyDown({ key: 'ArrowLeft' });\n        }\n        if (touch.x[1] > touch.x[0]) {\n            console.log(swiped + 'right!');\n            handleKeyDown({ key: 'ArrowRight' });\n        }\n        if (touch.y[1] < touch.y[0]) {\n            console.log(swiped + 'down!');\n        }\n        if (touch.y[1] > touch.y[0]) {\n            console.log(swiped + 'left!');\n        }\n        if (touch.y[1] === touch.y[0]) {\n            console.log('tap!');\n        }\n    }, [touch, handleKeyDown]);\n\n    // Set start coordinates of mobile touch interaction\n    const touchStart = useCallback(\n        evt => {\n            console.log(evt);\n            if (evt.changedTouches.length) {\n                setTouch(prev => {\n                    console.log(prev);\n                    prev.x[0] = evt.changedTouches[0].screenX;\n                    prev.y[0] = evt.changedTouches[0].screenY;\n                    return prev;\n                });\n            }\n        },\n        [setTouch]\n    );\n\n    // Set end coordinates of mobile touch interaction\n    const touchEnd = useCallback(\n        evt => {\n            if (evt.changedTouches.length) {\n                setTouch(prev => {\n                    prev.x[1] = evt.changedTouches[0].screenX;\n                    prev.y[1] = evt.changedTouches[0].screenY;\n                    return prev;\n                });\n            }\n            handleGesture();\n        },\n        [setTouch, handleGesture]\n    );\n\n    // Add event listeners for swipe and keyboard navigation\n    useEffect(() => {\n        if (children.length) {\n            window.addEventListener('keydown', handleKeyDown);\n            // window.addEventListener('touchstart', touchStart, false);\n            // window.addEventListener('touchend', touchEnd, false);\n            return () => {\n                window.removeEventListener('keydown', handleKeyDown);\n                // window.removeEventListener('touchstart', touchStart);\n                // window.removeEventListener('touchend', touchEnd);\n            };\n        }\n    }, [children, handleKeyDown, handleGesture, touchStart, touchEnd]);\n\n    const renderContent = useMemo(() => {\n        if (JSON.stringify(combo) === JSON.stringify(egg)) {\n            play(cowbell);\n            return <code className={styles.greenText}>{eggBin}</code>;\n        }\n        return carousel;\n    }, [combo, egg, cowbell, play, carousel]);\n\n    return (\n        <div className={styles.root}>\n            {renderContent}\n            <div className={styles.mobileNav}>\n                <ArrowButton\n                    variant=\"back\"\n                    fullWidth\n                    onClick={() => handleKeyDown({ key: 'ArrowLeft' })}\n                />\n                <ArrowButton\n                    variant=\"forward\"\n                    fullWidth\n                    onClick={() => handleKeyDown({ key: 'ArrowRight' })}\n                />\n            </div>\n        </div>\n    );\n}\n","import React, { useEffect, useRef, useState } from 'react';\nimport Layout from '../components/layout';\nimport Logo from '../components/logo';\nimport Carousel from '../components/carousel';\nimport SEO from '../components/seo';\n\nexport default function IndexPage() {\n    const root = useRef();\n    const [darkMode, setDarkMode] = useState(1);\n    const [audio, setAudio] = useState(1);\n\n    const sw = {\n        setDarkMode,\n        setAudio,\n        values: { darkMode, audio }\n    };\n    const egg = [\n        'ArrowLeft',\n        'ArrowRight',\n        'ArrowRight',\n        'ArrowLeft',\n        'ArrowRight',\n        'ArrowLeft',\n        'ArrowRight'\n    ];\n\n    useEffect(() => {\n        if (\n            /Android|webOS|iPhone|iPad|iPod|BlackBerry/i.test(\n                navigator.userAgent\n            )\n        ) {\n            setAudio(0);\n        }\n    }, []);\n\n    return (\n        <Layout ref={root} sw={sw}>\n            <SEO title=\"i am not a robot.\" />\n            <Carousel start={0} muted={!audio} egg={egg}>\n                <Logo key=\"mixes\" variant=\"logo\" href=\"/mixes\">\n                    MIXES\n                </Logo>\n                <Logo\n                    key=\"home\"\n                    variant=\"logo\"\n                    href=\"https://www.youtube.com/watch?v=Gnw5H_mTwVk&list=PLKmxw_BCAsEXv6-2dY87WH_KruIaky6um\"\n                />\n                <Logo key=\"live\" variant=\"logo\" href=\"/live\">\n                    LIVESTREAM\n                </Logo>\n                <Logo key=\"merch\" variant=\"logo\" href=\"/merch\">\n                    MERCH\n                </Logo>\n            </Carousel>\n        </Layout>\n    );\n}\n","import React from 'react';\nimport styles from './index.module.scss';\n\nexport default function ArrowButton({\n    variant = '',\n    color = '',\n    onClick,\n    href = '#',\n    fixed = false,\n    fullWidth = false,\n    children\n}) {\n    return (\n        <a\n            href={href}\n            className={`${styles.root} ${styles[variant]} ${\n                color ? styles[color] : ''\n            } ${fixed ? styles.fixed : ''} ${\n                fullWidth ? styles.fullWidth : ''\n            }`}\n        >\n            <div onClick={onClick}>{children}</div>\n        </a>\n    );\n}\n","// extracted by mini-css-extract-plugin\nmodule.exports = {\"root\":\"index-module--root--363CI\",\"text\":\"index-module--text--Crddu\",\"logo\":\"index-module--logo--3PlfJ\",\"colorCycle\":\"index-module--color-cycle--TimLx\"};"],"sourceRoot":""}